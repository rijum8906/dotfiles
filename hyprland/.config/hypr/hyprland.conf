# --- Monitor & Scaling ---
# This fixes pixelation: bit 1 (auto scale) and bit 0 (sharp XWayland)
monitor=eDP-1, 2560x1600@120, 0x0, 1.8

# --- KDE-style Fix for Pixelated Apps ---
xwayland {
  force_zero_scaling = true
}

# --- Variables & Apps ---
$terminal = kitty
$fileManager = thunar
$menu = wofi --show drun
$browser = google-chrome-stable

# --- Catppuccin Mocha Colors ---
$base = rgb(1e1e2e)
$blue = rgb(89b4fa)
$mauve = rgb(cba6f7)
$red = rgb(f38ba8)
$overlay0 = rgb(6c7086)

# --- General Appearance ---
general {
    gaps_in = 2
    gaps_out = 2
    border_size = 1
    col.active_border = $blue
    col.inactive_border = $overlay0
    layout = dwindle
}

# --- Smart Borders (No gaps/borders when only one window is open) ---
workspace = w[t1], gapsout:0, gapsin:0
workspace = w[t1], border:false
workspace = f[1], gapsout:0, gapsin:0
workspace = f[1], border:false

# Animation 
animations {
    enabled = false
}

decoration {
    rounding = 10
}

# --- Input ---
input {
    touchpad {
        natural_scroll = false
        tap-to-click = true
    }
}

# --- Keybindings (Vim-style) ---
$mainMod = SUPER

bind = $mainMod, T, exec, $terminal
bind = $mainMod, Q, killactive, 
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, B, exec, $browser
bind = $mainMod, Space, exec, $menu
bind = $mainMod, V, togglefloating, 
bind = $mainMod, F, fullscreen, 
# Exit Hyprland (Logout)
bind = $mainMod SHIFT, E, exec, hyprctl dispatch exit

# Navigation
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# Workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5

# Move active window to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# --- Media Keys ---
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Screenshots (Save + Copy)
bindel = , Print, exec, grim - | tee ~/Pictures/Screenshots/$(date +%F-%T).png | wl-copy
bindel = , Shift+Print, exec, grim -g "$(slurp)" - | tee ~/Pictures/Screenshots/$(date +%F-%T).png | wl-copy
bindel = ,Ctrl+Shift+Print, exec, grim -g "$(slurp)" - | wl-copy


# --- Autostart ---
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=Hyprland
exec-once = waybar
exec-once = hyprpaper # You'll need hyprpaper for the devil-heart wallpaper

# --- Window Rules ---
windowrule = match:class xdg-desktop-portal-gtk, float on, size 800 600
windowrule = match:class xdg-desktop-portal-kde, float on, size 800 600
windowrule = match:class xdg-desktop-portal-hyprland, float on, size 800 600
